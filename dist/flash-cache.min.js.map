{"version":3,"sources":["flash-cache.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","Object","prototype","hasOwnProperty","_LZW","_LZW2","_util","_defaultConfig","expireIn","compressStrings","config","arguments","length","undefined","_listeners","create","_cache","_config","assign","put","_this","key","value","remove","__cache__","time","Date","now","_compressed","compress","expiryAt","_expirer","setTimeout","emit","data","get","cache","decompress","isExpired","isExisty","clearTimeout","expired","clear","on","type","listener","push","off","splice","map","handler","defineProperty","uncompressed","dictionary","wc","w","result","dictSize","String","fromCharCode","charAt","compressed","k","entry","val"],"mappings":"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","file":"flash-cache.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"flashCache\"] = factory();\n\telse\n\t\troot[\"flashCache\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _LZW = __webpack_require__(1);\n\t\n\tvar _LZW2 = _interopRequireDefault(_LZW);\n\t\n\tvar _util = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /**\n\t                                                                                                                                                                                                                              * Created by Ganapati on 5/14/17.\n\t                                                                                                                                                                                                                              */\n\t\n\tvar _defaultConfig = {\n\t    // Cache expiry time, 60000ms(60s) by default\n\t    // Set `false` to disable expiry(This beats the purpose of cache).\n\t    // `0` will be treated as `false`\n\t    expireIn: 60000,\n\t    // Should compress the data if data is string, will save some bytes, but more processing\n\t    compressStrings: true\n\t};\n\t\n\t/**\n\t * flash-cache: Ultra fast in-memory cache.\n\t */\n\tmodule.exports = function flashCache() {\n\t    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultConfig;\n\t\n\t    var _listeners = Object.create(null);\n\t    var _cache = Object.create(null);\n\t\n\t    return {\n\t        /**\n\t         * Expose cache, useful to get entire cache\n\t         * */\n\t        _cache: _cache,\n\t\n\t        /**\n\t         * Expose config copy for future use\n\t         * */\n\t        _config: Object.assign({}, config),\n\t\n\t        /**\n\t         * Put data into cache\n\t         *\n\t         * @param {String} key  Cache key\n\t         * @param {String|Object} value Value to be stored against cache key\n\t         * */\n\t        put: function put() {\n\t            var _this = this;\n\t\n\t            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t            var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t            // Remove existing values, if any\n\t            if (_cache[key]) {\n\t                this.remove(key, true);\n\t            }\n\t\n\t            var __cache__ = {\n\t                value: value,\n\t                time: Date.now()\n\t            };\n\t            var compressStrings = config.compressStrings,\n\t                expireIn = config.expireIn;\n\t\n\t\n\t            if (compressStrings && typeof value === 'string') {\n\t                __cache__._compressed = true;\n\t                __cache__.value = _LZW2.default.compress(value);\n\t            }\n\t\n\t            // Ignore both `0` & `false`\n\t            // Basically if there is no expiry, cache will act as simple in-memory data store.\n\t            if (expireIn) {\n\t                // Store timeout, might be required for later use\n\t                __cache__.expiryAt = __cache__.time + expireIn;\n\t\n\t                // Remove the cache after expiry time\n\t                __cache__._expirer = setTimeout(function () {\n\t                    // Trigger `expiry` event\n\t                    _this.emit('expiry', { key: key, data: _cache[key] });\n\t\n\t                    _this.remove(key, true);\n\t                }, expireIn);\n\t            }\n\t\n\t            _cache[key] = __cache__;\n\t\n\t            // Trigger `add` event\n\t            this.emit('add', { key: key, data: _cache[key] });\n\t\n\t            return _cache[key];\n\t        },\n\t\n\t\n\t        /**\n\t         * Get data from cache\n\t         *\n\t         * @param {String} key  Cache key\n\t         * */\n\t        get: function get() {\n\t            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t\n\t            var __cache__ = _cache[key];\n\t\n\t            if (__cache__) {\n\t                // Extract private _compressed, _expirer function\n\t                var _expirer = __cache__._expirer,\n\t                    _compressed = __cache__._compressed,\n\t                    cache = _objectWithoutProperties(__cache__, ['_expirer', '_compressed']);\n\t\n\t                // Make copy of cache\n\t\n\t\n\t                cache = Object.assign({}, cache);\n\t\n\t                if (_compressed) {\n\t                    cache.value = _LZW2.default.decompress(cache.value);\n\t                }\n\t\n\t                // Trigger `get` event\n\t                this.emit('get', { key: key, data: cache });\n\t\n\t                return cache;\n\t            }\n\t\n\t            return null;\n\t        },\n\t\n\t\n\t        /**\n\t         * Remove data/Invalidate from cache\n\t         *\n\t         * @param {String} key  Cache key to be removed\n\t         * @param {Boolean} isExpired  Boolean to indicate whether cache is removed by expiry timeout\n\t         * */\n\t        remove: function remove(key) {\n\t            var isExpired = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            var __cache__ = _cache[key];\n\t\n\t            if (__cache__) {\n\t                var _expirer = __cache__._expirer;\n\t\n\t\n\t                if ((0, _util.isExisty)(_expirer)) {\n\t                    clearTimeout(_expirer);\n\t                }\n\t\n\t                delete _cache[key];\n\t\n\t                // Trigger `remove` event\n\t                this.emit('remove', { key: key, expired: isExpired });\n\t\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        },\n\t\n\t\n\t        /**\n\t         * Clear entire cache\n\t         * */\n\t        clear: function clear() {\n\t            _cache = Object.create(null);\n\t\n\t            // Trigger `clear` event\n\t            this.emit('clear', {});\n\t\n\t            return true;\n\t        },\n\t\n\t\n\t        /**\n\t         * Add cache event listener\n\t         * Snippet borrowed from @developit/mitt\n\t         *\n\t         * @param {String} type  Event to register, Eg: add, remove, expiry\n\t         * @param {String|Object} listener Function to be called on event\n\t         * */\n\t        on: function on(type, listener) {\n\t            if (typeof listener === 'function') {\n\t                (_listeners[type] || (_listeners[type] = [])).push(listener);\n\t            }\n\t        },\n\t\n\t\n\t        /**\n\t         * Remove cache event listener\n\t         * Snippet borrowed from @developit/mitt\n\t         *\n\t         * @param {String} type  Event to un register, Eg: add, remove, expiry\n\t         * @param {String|Object} listener function to remove\n\t         * */\n\t        off: function off(type, listener) {\n\t            if (_listeners[type]) {\n\t                _listeners[type].splice(_listeners[type].indexOf(listener) >>> 0, 1);\n\t            }\n\t        },\n\t\n\t\n\t        /**\n\t         * Emit data to cache event listeners\n\t         * Snippet borrowed from @developit/mitt\n\t         *\n\t         * @param {String} type  Event to be emited\n\t         * @param {String|Object} data to pass to listener function\n\t         * */\n\t        emit: function emit(type, data) {\n\t            (_listeners[type] || []).map(function (handler) {\n\t                handler(data);\n\t            });\n\t            (_listeners['*'] || []).map(function (handler) {\n\t                handler(type, data);\n\t            });\n\t        }\n\t    };\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Lempel-Ziv-Welch (LZW) Compression/Decompression algorithm for Strings\n\t * http://rosettacode.org/wiki/LZW_compression#JavaScript\n\t *\n\t * let str = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n\t * Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,\n\t * when an unknown printer took a galley of type and scrambled it to make a type specimen book.\n\t * It has survived not only five centuries, but also the leap into electronic typesetting,\n\t * remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset\n\t * sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like\n\t * Aldus PageMaker including versions of Lorem Ipsum.\";\n\t *\n\t * console.log(str.length) // 574\n\t *\n\t * let compressed = LZW.compress(str) // 358\n\t *\n\t * let uncompressed = LZW.decompress(str) // 574\n\t */\n\t\n\texports.default = {\n\t    compress: function compress(uncompressed) {\n\t        \"use strict\";\n\t        // Build the dictionary.\n\t\n\t        var i = void 0,\n\t            dictionary = {},\n\t            c = void 0,\n\t            wc = void 0,\n\t            w = \"\",\n\t            result = [],\n\t            dictSize = 256;\n\t        for (i = 0; i < 256; i += 1) {\n\t            dictionary[String.fromCharCode(i)] = i;\n\t        }\n\t\n\t        for (i = 0; i < uncompressed.length; i += 1) {\n\t            c = uncompressed.charAt(i);\n\t            wc = w + c;\n\t            // Do not use dictionary[wc] because javascript arrays\n\t            // will return values for array['pop'], array['push'] etc\n\t            // if (dictionary[wc]) {\n\t            if (dictionary.hasOwnProperty(wc)) {\n\t                w = wc;\n\t            } else {\n\t                result.push(dictionary[w]);\n\t                // Add wc to the dictionary.\n\t                dictionary[wc] = dictSize++;\n\t                w = String(c);\n\t            }\n\t        }\n\t\n\t        // Output the code for w.\n\t        if (w !== \"\") {\n\t            result.push(dictionary[w]);\n\t        }\n\t        return result;\n\t    },\n\t    decompress: function decompress(compressed) {\n\t        \"use strict\";\n\t        // Build the dictionary.\n\t\n\t        var i = void 0,\n\t            dictionary = [],\n\t            w = void 0,\n\t            result = void 0,\n\t            k = void 0,\n\t            entry = \"\",\n\t            dictSize = 256;\n\t        for (i = 0; i < 256; i += 1) {\n\t            dictionary[i] = String.fromCharCode(i);\n\t        }\n\t\n\t        w = String.fromCharCode(compressed[0]);\n\t        result = w;\n\t        for (i = 1; i < compressed.length; i += 1) {\n\t            k = compressed[i];\n\t            if (dictionary[k]) {\n\t                entry = dictionary[k];\n\t            } else {\n\t                if (k === dictSize) {\n\t                    entry = w + w.charAt(0);\n\t                } else {\n\t                    return null;\n\t                }\n\t            }\n\t\n\t            result += entry;\n\t\n\t            // Add w+entry[0] to the dictionary.\n\t            dictionary[dictSize++] = w + entry.charAt(0);\n\t\n\t            w = entry;\n\t        }\n\t        return result;\n\t    }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Created by Ganapati on 5/14/17.\n\t */\n\t\n\t/**\n\t * Check if variable has some value\n\t * */\n\tvar isExisty = exports.isExisty = function isExisty(val) {\n\t  return val !== null && val !== undefined;\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}