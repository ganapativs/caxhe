{"version":3,"sources":["flash-cache.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","Object","prototype","hasOwnProperty","_LZW","_LZW2","_listeners","_addToExpiryQueue","_addToExpiryQueue2","_defaultConfig","defaultExpiryIn","compressStrings","config","arguments","length","undefined","_cache","create","_config","assign","put","key","_this","value","expiryIn","remove","__cache__","time","Date","now","_compressed","compress","expiryAt","expiryFn","emit","data","bind","get","_expirer","cache","decompress","isExpired","deleteTimerAtKey","expired","getAll","clearAll","on","off","defineProperty","uncompressed","dictionary","wc","w","result","dictSize","String","fromCharCode","charAt","push","compressed","k","entry","type","listener","splice","map","handler","isExisty","val","_timers","_expiryTimerInstance","_cleanUpTimers","_checkExpired","remainingExpiries","isTimerActive","setInterval","clearInterval"],"mappings":"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","file":"flash-cache.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"flashCache\"] = factory();\n\telse\n\t\troot[\"flashCache\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _LZW = __webpack_require__(1);\n\t\n\tvar _LZW2 = _interopRequireDefault(_LZW);\n\t\n\tvar _listeners = __webpack_require__(2);\n\t\n\tvar _addToExpiryQueue = __webpack_require__(3);\n\t\n\tvar _addToExpiryQueue2 = _interopRequireDefault(_addToExpiryQueue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /**\n\t                                                                                                                                                                                                                              * Created by Ganapati on 5/14/17.\n\t                                                                                                                                                                                                                              *\n\t                                                                                                                                                                                                                              * flash-cache: Ultra fast in-memory cache.\n\t                                                                                                                                                                                                                              */\n\t\n\tvar _defaultConfig = {\n\t    // Default cache expiry time, 60000ms(60s) by default.\n\t    // Set `false` to disable expiry(This beats the purpose of cache).\n\t    // `0` will be treated as `false`.\n\t    defaultExpiryIn: 60000,\n\t    // Should compress the data if data is string, will save some bytes, but more processing!\n\t    compressStrings: true\n\t};\n\t\n\t/**\n\t * flash-cache: Ultra fast in-memory cache.\n\t */\n\tmodule.exports = function flashCache() {\n\t    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultConfig;\n\t\n\t    var _cache = Object.create(null);\n\t\n\t    return {\n\t        /**\n\t         * Expose config copy for future use\n\t         * */\n\t        _config: Object.assign({}, config),\n\t\n\t        /**\n\t         * Put data into cache\n\t         *\n\t         * @param {String} key  Cache key\n\t         * @param {String|Object} value Value to be stored against cache key\n\t         * @param {Number} expiryIn Expiry time for the key, defaults to defaultExpiryIn\n\t         * */\n\t        put: function put() {\n\t            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t\n\t            var _this = this;\n\t\n\t            var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t            var expiryIn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _defaultConfig.defaultExpiryIn;\n\t\n\t            // Remove existing values, if any\n\t            if (_cache[key]) {\n\t                this.remove(key, true);\n\t            }\n\t\n\t            var __cache__ = {\n\t                value: value,\n\t                time: Date.now()\n\t            };\n\t            var compressStrings = config.compressStrings;\n\t\n\t            // Compress and store strings\n\t\n\t            if (compressStrings && typeof value === 'string') {\n\t                __cache__._compressed = true;\n\t                __cache__.value = _LZW2.default.compress(value);\n\t            }\n\t\n\t            // Ignore all falsy values(like `0` & `false`)\n\t            // Basically if there is no expiry, cache will act as simple in-memory data store.\n\t            if (expiryIn) {\n\t                // Store timeout, might be required for later use\n\t                __cache__.expiryAt = __cache__.time + expiryIn;\n\t\n\t                var expiryFn = function expiryFn() {\n\t                    // Trigger `fc-expiry` event\n\t                    _this.emit('fc-expiry', { key: key, data: _cache[key] });\n\t\n\t                    _this.remove(key, true);\n\t                };\n\t\n\t                // Remove the cache after expiry time\n\t                (0, _addToExpiryQueue2.default)(__cache__.expiryAt, key, expiryFn.bind(this));\n\t            }\n\t\n\t            _cache[key] = __cache__;\n\t\n\t            // Trigger `fc-add` event\n\t            this.emit('fc-add', { key: key, data: _cache[key] });\n\t\n\t            return _cache[key];\n\t        },\n\t\n\t\n\t        /**\n\t         * Get data from cache\n\t         *\n\t         * @param {String} key  Cache key\n\t         * */\n\t        get: function get() {\n\t            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t\n\t            var __cache__ = _cache[key];\n\t\n\t            if (__cache__) {\n\t                // Extract private _compressed, _expirer function\n\t                var _expirer = __cache__._expirer,\n\t                    _compressed = __cache__._compressed,\n\t                    cache = _objectWithoutProperties(__cache__, ['_expirer', '_compressed']);\n\t\n\t                // Make copy of cache\n\t\n\t\n\t                cache = Object.assign({}, cache);\n\t\n\t                // If data is compressed string, uncompress\n\t                if (_compressed) {\n\t                    cache.value = _LZW2.default.decompress(cache.value);\n\t                }\n\t\n\t                // Trigger `fc-get` event\n\t                this.emit('fc-get', { key: key, data: cache });\n\t\n\t                return cache;\n\t            }\n\t\n\t            return null;\n\t        },\n\t\n\t\n\t        /**\n\t         * Remove data/Invalidate from cache\n\t         *\n\t         * @param {String} key  Cache key to be removed\n\t         * @param {Boolean} isExpired  Boolean to indicate whether cache is removed by expiry timeout\n\t         * */\n\t        remove: function remove(key) {\n\t            var isExpired = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            var __cache__ = _cache[key];\n\t\n\t            if (__cache__) {\n\t                var expiryAt = __cache__.expiryAt;\n\t\n\t                // If timer exists for the key, remove it\n\t\n\t                (0, _addToExpiryQueue.deleteTimerAtKey)(expiryAt, key);\n\t\n\t                // Remove key & value from cache\n\t                delete _cache[key];\n\t\n\t                // Trigger `fc-remove` event\n\t                this.emit('fc-remove', { key: key, expired: isExpired });\n\t\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        },\n\t\n\t\n\t        /**\n\t         * Get entire cache\n\t         * */\n\t        getAll: function getAll() {\n\t            // Trigger `fc-get-all` event\n\t            this.emit('fc-get-all', _cache);\n\t\n\t            return _cache;\n\t        },\n\t\n\t\n\t        /**\n\t         * Clear entire cache\n\t         * */\n\t        clearAll: function clearAll() {\n\t            _cache = Object.create(null);\n\t\n\t            // Trigger `fc-clear` event\n\t            this.emit('fc-clear', {});\n\t\n\t            return true;\n\t        },\n\t\n\t\n\t        /**\n\t         * Event listeners\n\t         * */\n\t        on: _listeners.on,\n\t        off: _listeners.off,\n\t        emit: _listeners.emit\n\t    };\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Lempel-Ziv-Welch (LZW) Compression/Decompression algorithm for Strings\n\t * http://rosettacode.org/wiki/LZW_compression#JavaScript\n\t *\n\t * let str = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n\t * Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,\n\t * when an unknown printer took a galley of type and scrambled it to make a type specimen book.\n\t * It has survived not only five centuries, but also the leap into electronic typesetting,\n\t * remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset\n\t * sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like\n\t * Aldus PageMaker including versions of Lorem Ipsum.\";\n\t *\n\t * console.log(str.length) // 574\n\t *\n\t * let compressed = LZW.compress(str) // 358\n\t *\n\t * let uncompressed = LZW.decompress(str) // 574\n\t */\n\t\n\texports.default = {\n\t    compress: function compress(uncompressed) {\n\t        \"use strict\";\n\t        // Build the dictionary.\n\t\n\t        var i = void 0,\n\t            dictionary = {},\n\t            c = void 0,\n\t            wc = void 0,\n\t            w = \"\",\n\t            result = [],\n\t            dictSize = 256;\n\t        for (i = 0; i < 256; i += 1) {\n\t            dictionary[String.fromCharCode(i)] = i;\n\t        }\n\t\n\t        for (i = 0; i < uncompressed.length; i += 1) {\n\t            c = uncompressed.charAt(i);\n\t            wc = w + c;\n\t            // Do not use dictionary[wc] because javascript arrays\n\t            // will return values for array['pop'], array['push'] etc\n\t            // if (dictionary[wc]) {\n\t            if (dictionary.hasOwnProperty(wc)) {\n\t                w = wc;\n\t            } else {\n\t                result.push(dictionary[w]);\n\t                // Add wc to the dictionary.\n\t                dictionary[wc] = dictSize++;\n\t                w = String(c);\n\t            }\n\t        }\n\t\n\t        // Output the code for w.\n\t        if (w !== \"\") {\n\t            result.push(dictionary[w]);\n\t        }\n\t        return result;\n\t    },\n\t    decompress: function decompress(compressed) {\n\t        \"use strict\";\n\t        // Build the dictionary.\n\t\n\t        var i = void 0,\n\t            dictionary = [],\n\t            w = void 0,\n\t            result = void 0,\n\t            k = void 0,\n\t            entry = \"\",\n\t            dictSize = 256;\n\t        for (i = 0; i < 256; i += 1) {\n\t            dictionary[i] = String.fromCharCode(i);\n\t        }\n\t\n\t        w = String.fromCharCode(compressed[0]);\n\t        result = w;\n\t        for (i = 1; i < compressed.length; i += 1) {\n\t            k = compressed[i];\n\t            if (dictionary[k]) {\n\t                entry = dictionary[k];\n\t            } else {\n\t                if (k === dictSize) {\n\t                    entry = w + w.charAt(0);\n\t                } else {\n\t                    return null;\n\t                }\n\t            }\n\t\n\t            result += entry;\n\t\n\t            // Add w+entry[0] to the dictionary.\n\t            dictionary[dictSize++] = w + entry.charAt(0);\n\t\n\t            w = entry;\n\t        }\n\t        return result;\n\t    }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Created by Ganapati on 6/24/17.\n\t *\n\t * Event listeners\n\t */\n\t\n\tvar _listeners = Object.create(null);\n\t\n\t/**\n\t * Add cache event listener\n\t * Snippet borrowed from @developit/mitt\n\t *\n\t * @param {String} type  Event to register, Eg: add, remove, expiry\n\t * @param {String|Object} listener Function to be called on event\n\t * */\n\tvar on = exports.on = function on(type, listener) {\n\t    if (typeof listener === 'function') {\n\t        (_listeners[type] || (_listeners[type] = [])).push(listener);\n\t    }\n\t};\n\t\n\t/**\n\t * Remove cache event listener\n\t * Snippet borrowed from @developit/mitt\n\t *\n\t * @param {String} type  Event to un register, Eg: add, remove, expiry\n\t * @param {String|Object} listener function to remove\n\t * */\n\tvar off = exports.off = function off(type, listener) {\n\t    if (_listeners[type]) {\n\t        _listeners[type].splice(_listeners[type].indexOf(listener) >>> 0, 1);\n\t    }\n\t};\n\t\n\t/**\n\t * Emit data to cache event listeners\n\t * Snippet borrowed from @developit/mitt\n\t *\n\t * @param {String} type  Event to be emited\n\t * @param {String|Object} data to pass to listener function\n\t * */\n\tvar emit = exports.emit = function emit(type, data) {\n\t    (_listeners[type] || []).map(function (handler) {\n\t        handler(data);\n\t    });\n\t    (_listeners['*'] || []).map(function (handler) {\n\t        handler(type, data);\n\t    });\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Created by Ganapati on 7/05/17.\n\t *\n\t * Timers - Expire cache on time(on regular intervals)\n\t */\n\t\n\t/**\n\t * Check if variable has some value\n\t * */\n\tvar isExisty = function isExisty(val) {\n\t    return val !== null && val !== undefined;\n\t};\n\t\n\t/**\n\t * Store each key's expiry functions in _timers[expiryAt][key]\n\t * */\n\tvar _timers = {};\n\tvar _expiryTimerInstance = null;\n\t\n\t/**\n\t * Expire all keys at time(key) - _timers[time] & remove key from _timers\n\t * */\n\tvar _cleanUpTimers = function _cleanUpTimers(key) {\n\t    if (_timers[key]) {\n\t        for (var k in _timers[key]) {\n\t            if (_timers[key].hasOwnProperty(k)) {\n\t                _timers[key][k]();\n\t            }\n\t        }\n\t        delete _timers[key];\n\t    }\n\t};\n\t\n\t/**\n\t * Check for keys expiry each 1 millisecond unless all keys are expired.\n\t *\n\t * Cleanup current + old keys(If any)\n\t *\n\t * If no keys exists to expire, stop timer or if timer is not started, attach timer.\n\t * */\n\tvar _checkExpired = function _checkExpired() {\n\t    var keys = Object.keys(_timers);\n\t    var remainingExpiries = keys.length;\n\t    var now = Date.now();\n\t    var isTimerActive = isExisty(_expiryTimerInstance);\n\t\n\t    keys.map(function (k) {\n\t        if (k <= now) {\n\t            _cleanUpTimers(k);\n\t            remainingExpiries -= 1;\n\t        }\n\t    });\n\t\n\t    if (!remainingExpiries) {\n\t        clearInterval(_expiryTimerInstance);\n\t        _expiryTimerInstance = null;\n\t    } else if (!isTimerActive) {\n\t        _expiryTimerInstance = setInterval(_checkExpired, 1);\n\t    }\n\t};\n\t\n\t/**\n\t * Add expiryFn to _timers[expiryAt][key] & start timer if timer not attached\n\t * */\n\tvar _addToExpiryQueue = function _addToExpiryQueue(expiryAt, key, expiryFn) {\n\t    if (!_timers[expiryAt]) {\n\t        _timers[expiryAt] = {};\n\t    }\n\t    _timers[expiryAt][key] = expiryFn;\n\t    _checkExpired();\n\t};\n\t\n\tvar deleteTimerAtKey = exports.deleteTimerAtKey = function deleteTimerAtKey(expiryAt, key) {\n\t    if (_timers[expiryAt][key]) {\n\t        delete _timers[expiryAt][key];\n\t    }\n\t};\n\t\n\texports.default = _addToExpiryQueue;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}