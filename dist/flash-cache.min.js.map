{"version":3,"sources":["flash-cache.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","Object","prototype","hasOwnProperty","_LZW","_LZW2","_listeners","_util","_defaultConfig","expireIn","compressStrings","config","arguments","length","undefined","_cache","create","_config","assign","put","_this","key","value","remove","__cache__","time","Date","now","_compressed","compress","expiryAt","_expirer","setTimeout","emit","data","get","cache","decompress","isExpired","isExisty","clearTimeout","expired","getAll","clearAll","on","off","defineProperty","uncompressed","dictionary","wc","w","result","dictSize","String","fromCharCode","charAt","push","compressed","k","entry","type","listener","splice","map","handler","val"],"mappings":"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","file":"flash-cache.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"flashCache\"] = factory();\n\telse\n\t\troot[\"flashCache\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _LZW = __webpack_require__(1);\n\t\n\tvar _LZW2 = _interopRequireDefault(_LZW);\n\t\n\tvar _listeners = __webpack_require__(2);\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /**\n\t                                                                                                                                                                                                                              * Created by Ganapati on 5/14/17.\n\t                                                                                                                                                                                                                              *\n\t                                                                                                                                                                                                                              * flash-cache: Ultra fast in-memory cache.\n\t                                                                                                                                                                                                                              */\n\t\n\tvar _defaultConfig = {\n\t    // Cache expiry time, 60000ms(60s) by default\n\t    // Set `false` to disable expiry(This beats the purpose of cache).\n\t    // `0` will be treated as `false`.\n\t    expireIn: 60000,\n\t    // Should compress the data if data is string, will save some bytes, but more processing!\n\t    compressStrings: true\n\t};\n\t\n\t/**\n\t * flash-cache: Ultra fast in-memory cache.\n\t */\n\tmodule.exports = function flashCache() {\n\t    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultConfig;\n\t\n\t    var _cache = Object.create(null);\n\t\n\t    return {\n\t        /**\n\t         * Expose config copy for future use\n\t         * */\n\t        _config: Object.assign({}, config),\n\t\n\t        /**\n\t         * Put data into cache\n\t         *\n\t         * @param {String} key  Cache key\n\t         * @param {String|Object} value Value to be stored against cache key\n\t         * */\n\t        put: function put() {\n\t            var _this = this;\n\t\n\t            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t            var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t            // Remove existing values, if any\n\t            if (_cache[key]) {\n\t                this.remove(key, true);\n\t            }\n\t\n\t            var __cache__ = {\n\t                value: value,\n\t                time: Date.now()\n\t            };\n\t            var compressStrings = config.compressStrings,\n\t                expireIn = config.expireIn;\n\t\n\t            // Compress and store strings\n\t\n\t            if (compressStrings && typeof value === 'string') {\n\t                __cache__._compressed = true;\n\t                __cache__.value = _LZW2.default.compress(value);\n\t            }\n\t\n\t            // Ignore all falsy values(like `0` & `false`)\n\t            // Basically if there is no expiry, cache will act as simple in-memory data store.\n\t            if (expireIn) {\n\t                // Store timeout, might be required for later use\n\t                __cache__.expiryAt = __cache__.time + expireIn;\n\t\n\t                // Remove the cache after expiry time\n\t                __cache__._expirer = setTimeout(function () {\n\t                    // Trigger `fc-expiry` event\n\t                    _this.emit('fc-expiry', { key: key, data: _cache[key] });\n\t\n\t                    _this.remove(key, true);\n\t                }, expireIn);\n\t            }\n\t\n\t            _cache[key] = __cache__;\n\t\n\t            // Trigger `fc-add` event\n\t            this.emit('fc-add', { key: key, data: _cache[key] });\n\t\n\t            return _cache[key];\n\t        },\n\t\n\t\n\t        /**\n\t         * Get data from cache\n\t         *\n\t         * @param {String} key  Cache key\n\t         * */\n\t        get: function get() {\n\t            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t\n\t            var __cache__ = _cache[key];\n\t\n\t            if (__cache__) {\n\t                // Extract private _compressed, _expirer function\n\t                var _expirer = __cache__._expirer,\n\t                    _compressed = __cache__._compressed,\n\t                    cache = _objectWithoutProperties(__cache__, ['_expirer', '_compressed']);\n\t\n\t                // Make copy of cache\n\t\n\t\n\t                cache = Object.assign({}, cache);\n\t\n\t                // If data is compressed string, uncompress\n\t                if (_compressed) {\n\t                    cache.value = _LZW2.default.decompress(cache.value);\n\t                }\n\t\n\t                // Trigger `fc-get` event\n\t                this.emit('fc-get', { key: key, data: cache });\n\t\n\t                return cache;\n\t            }\n\t\n\t            return null;\n\t        },\n\t\n\t\n\t        /**\n\t         * Remove data/Invalidate from cache\n\t         *\n\t         * @param {String} key  Cache key to be removed\n\t         * @param {Boolean} isExpired  Boolean to indicate whether cache is removed by expiry timeout\n\t         * */\n\t        remove: function remove(key) {\n\t            var isExpired = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t            var __cache__ = _cache[key];\n\t\n\t            if (__cache__) {\n\t                var _expirer = __cache__._expirer;\n\t\n\t                // If expirer exists, clear it\n\t\n\t                if ((0, _util.isExisty)(_expirer)) {\n\t                    clearTimeout(_expirer);\n\t                }\n\t\n\t                // Remove key & value from cache\n\t                delete _cache[key];\n\t\n\t                // Trigger `fc-remove` event\n\t                this.emit('fc-remove', { key: key, expired: isExpired });\n\t\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        },\n\t\n\t\n\t        /**\n\t         * Get entire cache\n\t         * */\n\t        getAll: function getAll() {\n\t            // Trigger `fc-get-all` event\n\t            this.emit('fc-get-all', _cache);\n\t\n\t            return _cache;\n\t        },\n\t\n\t\n\t        /**\n\t         * Clear entire cache\n\t         * */\n\t        clearAll: function clearAll() {\n\t            _cache = Object.create(null);\n\t\n\t            // Trigger `fc-clear` event\n\t            this.emit('fc-clear', {});\n\t\n\t            return true;\n\t        },\n\t\n\t\n\t        /**\n\t         * Event listeners\n\t         * */\n\t        on: _listeners.on,\n\t        off: _listeners.off,\n\t        emit: _listeners.emit\n\t    };\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Lempel-Ziv-Welch (LZW) Compression/Decompression algorithm for Strings\n\t * http://rosettacode.org/wiki/LZW_compression#JavaScript\n\t *\n\t * let str = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n\t * Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,\n\t * when an unknown printer took a galley of type and scrambled it to make a type specimen book.\n\t * It has survived not only five centuries, but also the leap into electronic typesetting,\n\t * remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset\n\t * sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like\n\t * Aldus PageMaker including versions of Lorem Ipsum.\";\n\t *\n\t * console.log(str.length) // 574\n\t *\n\t * let compressed = LZW.compress(str) // 358\n\t *\n\t * let uncompressed = LZW.decompress(str) // 574\n\t */\n\t\n\texports.default = {\n\t    compress: function compress(uncompressed) {\n\t        \"use strict\";\n\t        // Build the dictionary.\n\t\n\t        var i = void 0,\n\t            dictionary = {},\n\t            c = void 0,\n\t            wc = void 0,\n\t            w = \"\",\n\t            result = [],\n\t            dictSize = 256;\n\t        for (i = 0; i < 256; i += 1) {\n\t            dictionary[String.fromCharCode(i)] = i;\n\t        }\n\t\n\t        for (i = 0; i < uncompressed.length; i += 1) {\n\t            c = uncompressed.charAt(i);\n\t            wc = w + c;\n\t            // Do not use dictionary[wc] because javascript arrays\n\t            // will return values for array['pop'], array['push'] etc\n\t            // if (dictionary[wc]) {\n\t            if (dictionary.hasOwnProperty(wc)) {\n\t                w = wc;\n\t            } else {\n\t                result.push(dictionary[w]);\n\t                // Add wc to the dictionary.\n\t                dictionary[wc] = dictSize++;\n\t                w = String(c);\n\t            }\n\t        }\n\t\n\t        // Output the code for w.\n\t        if (w !== \"\") {\n\t            result.push(dictionary[w]);\n\t        }\n\t        return result;\n\t    },\n\t    decompress: function decompress(compressed) {\n\t        \"use strict\";\n\t        // Build the dictionary.\n\t\n\t        var i = void 0,\n\t            dictionary = [],\n\t            w = void 0,\n\t            result = void 0,\n\t            k = void 0,\n\t            entry = \"\",\n\t            dictSize = 256;\n\t        for (i = 0; i < 256; i += 1) {\n\t            dictionary[i] = String.fromCharCode(i);\n\t        }\n\t\n\t        w = String.fromCharCode(compressed[0]);\n\t        result = w;\n\t        for (i = 1; i < compressed.length; i += 1) {\n\t            k = compressed[i];\n\t            if (dictionary[k]) {\n\t                entry = dictionary[k];\n\t            } else {\n\t                if (k === dictSize) {\n\t                    entry = w + w.charAt(0);\n\t                } else {\n\t                    return null;\n\t                }\n\t            }\n\t\n\t            result += entry;\n\t\n\t            // Add w+entry[0] to the dictionary.\n\t            dictionary[dictSize++] = w + entry.charAt(0);\n\t\n\t            w = entry;\n\t        }\n\t        return result;\n\t    }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Created by Ganapati on 6/24/17.\n\t *\n\t * Event listeners\n\t */\n\t\n\tvar _listeners = Object.create(null);\n\t\n\t/**\n\t * Add cache event listener\n\t * Snippet borrowed from @developit/mitt\n\t *\n\t * @param {String} type  Event to register, Eg: add, remove, expiry\n\t * @param {String|Object} listener Function to be called on event\n\t * */\n\tvar on = function on(type, listener) {\n\t    if (typeof listener === 'function') {\n\t        (_listeners[type] || (_listeners[type] = [])).push(listener);\n\t    }\n\t};\n\t\n\t/**\n\t * Remove cache event listener\n\t * Snippet borrowed from @developit/mitt\n\t *\n\t * @param {String} type  Event to un register, Eg: add, remove, expiry\n\t * @param {String|Object} listener function to remove\n\t * */\n\tvar off = function off(type, listener) {\n\t    if (_listeners[type]) {\n\t        _listeners[type].splice(_listeners[type].indexOf(listener) >>> 0, 1);\n\t    }\n\t};\n\t\n\t/**\n\t * Emit data to cache event listeners\n\t * Snippet borrowed from @developit/mitt\n\t *\n\t * @param {String} type  Event to be emited\n\t * @param {String|Object} data to pass to listener function\n\t * */\n\tvar emit = function emit(type, data) {\n\t    (_listeners[type] || []).map(function (handler) {\n\t        handler(data);\n\t    });\n\t    (_listeners['*'] || []).map(function (handler) {\n\t        handler(type, data);\n\t    });\n\t};\n\t\n\texports.default = { on: on, off: off, emit: emit };\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Created by Ganapati on 5/14/17.\n\t */\n\t\n\t/**\n\t * Check if variable has some value\n\t * */\n\tvar isExisty = exports.isExisty = function isExisty(val) {\n\t  return val !== null && val !== undefined;\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}