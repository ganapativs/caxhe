!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.flashCache=t():e.flashCache=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=r(1),u=n(i),f=r(2),c=r(3),a=n(c),l={defaultExpiryIn:6e4,compressStrings:!0};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=Object.create(null);return{_config:Object.assign({},e),put:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.defaultExpiryIn;t[r]&&this.remove(r,!0);var f={value:o,time:Date.now()},c=e.compressStrings;if(c&&"string"==typeof o&&(f._compressed=!0,f.value=u.default.compress(o)),i){f.expiryAt=f.time+i;var s=function(){n.emit("fc-expiry",{key:r,data:t[r]}),n.remove(r,!0)};(0,a.default)(f.expiryAt,r,s.bind(this))}return t[r]=f,this.emit("fc-add",{key:r,data:t[r]}),t[r]},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t[e];if(r){var n=(r._expirer,r._compressed),i=o(r,["_expirer","_compressed"]);return i=Object.assign({},i),n&&(i.value=u.default.decompress(i.value)),this.emit("fc-get",{key:e,data:i}),i}return null},remove:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t[e];if(n){var o=n.expiryAt;return(0,c.deleteTimerAtKey)(o,e),delete t[e],this.emit("fc-remove",{key:e,expired:r}),!0}return!1},getAll:function(){return this.emit("fc-get-all",t),t},clearAll:function(){return t=Object.create(null),this.emit("fc-clear",{}),!0},on:f.on,off:f.off,emit:f.emit}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={compress:function(e){var t=void 0,r={},n=void 0,o=void 0,i="",u=[],f=256;for(t=0;t<256;t+=1)r[String.fromCharCode(t)]=t;for(t=0;t<e.length;t+=1)n=e.charAt(t),o=i+n,r.hasOwnProperty(o)?i=o:(u.push(r[i]),r[o]=f++,i=String(n));return""!==i&&u.push(r[i]),u},decompress:function(e){var t=void 0,r=[],n=void 0,o=void 0,i=void 0,u="",f=256;for(t=0;t<256;t+=1)r[t]=String.fromCharCode(t);for(n=String.fromCharCode(e[0]),o=n,t=1;t<e.length;t+=1){if(i=e[t],r[i])u=r[i];else{if(i!==f)return null;u=n+n.charAt(0)}o+=u,r[f++]=n+u.charAt(0),n=u}return o}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.create(null);t.on=function(e,t){"function"==typeof t&&(r[e]||(r[e]=[])).push(t)},t.off=function(e,t){r[e]&&r[e].splice(r[e].indexOf(t)>>>0,1)},t.emit=function(e,t){(r[e]||[]).map(function(e){e(t)}),(r["*"]||[]).map(function(r){r(e,t)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return null!==e&&void 0!==e},n={},o=null,i=function(e){if(n[e]){for(var t in n[e])n[e].hasOwnProperty(t)&&n[e][t]();delete n[e]}},u=function e(){var t=Object.keys(n),u=t.length,f=Date.now(),c=r(o);t.map(function(e){e<=f&&(i(e),u-=1)}),u?c||(o=setInterval(e,1)):(clearInterval(o),o=null)},f=function(e,t,r){n[e]||(n[e]={}),n[e][t]=r,u()};t.deleteTimerAtKey=function(e,t){n[e][t]&&delete n[e][t]};t.default=f}])});
//# sourceMappingURL=flash-cache.min.js.map
