!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.flashCache=t():e.flashCache=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(1),o=n(2),u=i(o),f={defaultExpiryIn:6e4};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=Object.create(null);return{_config:Object.assign({},e),put:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultExpiryIn;t[n]&&this.remove(n,!0);var f={value:r,time:Date.now()};if(f.value=r,o){f.expiryAt=f.time+o;var c=function(){i.emit("fc-expiry",{key:n,data:t[n]}),i.remove(n,!0)};(0,u.default)(f.expiryAt,n,c.bind(this))}return t[n]=f,this.emit("fc-add",{key:n,data:t[n]}),t[n]},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t[e];if(n){var i=Object.assign({},n);return this.emit("fc-get",{key:e,data:i}),i}return null},remove:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t[e];if(i){var r=i.expiryAt;return(0,o.deleteTimerAtKey)(r,e),delete t[e],this.emit("fc-remove",{key:e,expired:n}),!0}return!1},getAll:function(){return this.emit("fc-get-all",t),t},clearAll:function(){return t=Object.create(null),this.emit("fc-clear",{}),!0},on:r.on,off:r.off,emit:r.emit}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.create(null);t.on=function(e,t){"function"==typeof t&&(n[e]||(n[e]=[])).push(t)},t.off=function(e,t){n[e]&&n[e].splice(n[e].indexOf(t)>>>0,1)},t.emit=function(e,t){(n[e]||[]).map(function(e){e(t)}),(n["*"]||[]).map(function(n){n(e,t)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return null!==e&&void 0!==e},i={},r=null,o=function(e){if(i[e]){for(var t in i[e])i[e].hasOwnProperty(t)&&i[e][t]();delete i[e]}},u=function e(){var t=Object.keys(i),u=t.length,f=Date.now(),c=n(r);t.map(function(e){e<=f&&(o(e),u-=1)}),u?c||(r=setInterval(e,1)):(clearInterval(r),r=null)},f=function(e,t,n){i[e]||(i[e]={}),i[e][t]=n,u()};t.deleteTimerAtKey=function(e,t){i[e][t]&&delete i[e][t]};t.default=f}])});
//# sourceMappingURL=flash-cache.min.js.map
