!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.flashCache=t():e.flashCache=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=r(1),u=n(i),c=r(2),f=r(3),s={expireIn:6e4,compressStrings:!0};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Object.create(null);return{_config:Object.assign({},e),put:function(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t[n]&&this.remove(n,!0);var i={value:o,time:Date.now()},c=e.compressStrings,f=e.expireIn;return c&&"string"==typeof o&&(i._compressed=!0,i.value=u.default.compress(o)),f&&(i.expiryAt=i.time+f,i._expirer=setTimeout(function(){r.emit("fc-expiry",{key:n,data:t[n]}),r.remove(n,!0)},f)),t[n]=i,this.emit("fc-add",{key:n,data:t[n]}),t[n]},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t[e];if(r){var n=(r._expirer,r._compressed),i=o(r,["_expirer","_compressed"]);return i=Object.assign({},i),n&&(i.value=u.default.decompress(i.value)),this.emit("fc-get",{key:e,data:i}),i}return null},remove:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t[e];if(n){var o=n._expirer;return(0,f.isExisty)(o)&&clearTimeout(o),delete t[e],this.emit("fc-remove",{key:e,expired:r}),!0}return!1},getAll:function(){return this.emit("fc-get-all",t),t},clearAll:function(){return t=Object.create(null),this.emit("fc-clear",{}),!0},on:c.on,off:c.off,emit:c.emit}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={compress:function(e){var t=void 0,r={},n=void 0,o=void 0,i="",u=[],c=256;for(t=0;t<256;t+=1)r[String.fromCharCode(t)]=t;for(t=0;t<e.length;t+=1)n=e.charAt(t),o=i+n,r.hasOwnProperty(o)?i=o:(u.push(r[i]),r[o]=c++,i=String(n));return""!==i&&u.push(r[i]),u},decompress:function(e){var t=void 0,r=[],n=void 0,o=void 0,i=void 0,u="",c=256;for(t=0;t<256;t+=1)r[t]=String.fromCharCode(t);for(n=String.fromCharCode(e[0]),o=n,t=1;t<e.length;t+=1){if(i=e[t],r[i])u=r[i];else{if(i!==c)return null;u=n+n.charAt(0)}o+=u,r[c++]=n+u.charAt(0),n=u}return o}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.create(null),n=function(e,t){"function"==typeof t&&(r[e]||(r[e]=[])).push(t)},o=function(e,t){r[e]&&r[e].splice(r[e].indexOf(t)>>>0,1)},i=function(e,t){(r[e]||[]).map(function(e){e(t)}),(r["*"]||[]).map(function(r){r(e,t)})};t.default={on:n,off:o,emit:i}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isExisty=function(e){return null!==e&&void 0!==e}}])});
//# sourceMappingURL=flash-cache.min.js.map
