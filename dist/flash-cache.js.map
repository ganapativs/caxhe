{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ff969d3641e5b8b1e086","webpack:///./src/flash-cache.js","webpack:///./src/LZW.js","webpack:///./src/util.js"],"names":["_defaultConfig","expireIn","compressStrings","module","exports","flashCache","config","_listeners","Object","create","_cache","_config","assign","put","key","value","__cache__","time","Date","now","_compressed","compress","expiryAt","_expirer","setTimeout","emit","data","remove","get","cache","decompress","isExpired","clearTimeout","expired","clear","on","type","listener","push","off","splice","indexOf","map","handler","uncompressed","i","dictionary","c","wc","w","result","dictSize","String","fromCharCode","length","charAt","hasOwnProperty","compressed","k","entry","isExisty","val","undefined"],"mappings":"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","file":"flash-cache.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"flashCache\"] = factory();\n\telse\n\t\troot[\"flashCache\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ff969d3641e5b8b1e086\n **/","/**\n * Created by Ganapati on 5/14/17.\n */\n\nimport LZW from './LZW';\nimport {isExisty} from './util';\n\nlet _defaultConfig = {\n    // Cache expiry time, 1000ms by default\n    // Set `false` to disable expiry(This beats the purpose of cache).\n    // `0` will be treated as `false`\n    expireIn: 60000,\n    // Should compress the data if data is string, will save some bytes, but more processing\n    compressStrings: true\n};\n\n/**\n * flash-cache: Ultra fast in-memory cache.\n */\nmodule.exports = function flashCache(config = _defaultConfig) {\n    let _listeners = Object.create(null);\n    let _cache = Object.create(null);\n\n    return {\n        /**\n         * Expose cache, useful to get entire cache\n         * */\n        _cache,\n\n        /**\n         * Expose config copy for future use\n         * */\n        _config: Object.assign({}, config),\n\n        /**\n         * Put data into cache\n         *\n         * @param {String} key  Cache key\n         * @param {String|Object} value Value to be stored against cache key\n         * */\n        put(key = '', value = '') {\n            let __cache__ = {\n                value,\n                time: Date.now()\n            };\n            let {compressStrings, expireIn} = config;\n\n            if (compressStrings && typeof value === 'string') {\n                __cache__._compressed = true;\n                __cache__.value = LZW.compress(value);\n            }\n\n            // Ignore both `0` & `false`\n            // Basically if there is no expiry, cache will act as simple in-memory data store.\n            if (expireIn) {\n                // Store timeout, might be required for later use\n                __cache__.expiryAt = __cache__.time + expireIn;\n\n                // Remove the cache after expiry time\n                __cache__._expirer = setTimeout(() => {\n                    // Trigger `expiry` event\n                    this.emit('expiry', {key, data: _cache[key]});\n\n                    this.remove(key, true);\n                }, expireIn);\n            }\n\n            _cache[key] = __cache__;\n\n            // Trigger `add` event\n            this.emit('add', {key, data: _cache[key]});\n\n            return _cache[key];\n        },\n\n        /**\n         * Get data from cache\n         *\n         * @param {String} key  Cache key\n         * */\n        get(key = '') {\n            let __cache__ = _cache[key];\n\n            if (__cache__) {\n                // Extract private _compressed, _expirer function\n                let {_expirer, _compressed, ...cache} = __cache__;\n\n                // Make copy of cache\n                cache = Object.assign({}, cache);\n\n                if (_compressed) {\n                    cache.value = LZW.decompress(cache.value);\n                }\n\n                // Trigger `get` event\n                this.emit('get', {key, data: cache});\n\n                return cache;\n            }\n\n            return null;\n        },\n\n        /**\n         * Remove data/Invalidate from cache\n         *\n         * @param {String} key  Cache key to be removed\n         * @param {Boolean} isExpired  Boolean to indicate whether cache is removed by expiry timeout\n         * */\n        remove(key, isExpired = false) {\n            let __cache__ = _cache[key];\n\n            if (__cache__) {\n                let {_expirer} = __cache__;\n\n                if (isExisty(_expirer)) {\n                    clearTimeout(_expirer);\n                }\n\n                delete _cache[key];\n\n                // Trigger `remove` event\n                this.emit('remove', {key, expired: isExpired});\n\n                return true;\n            }\n\n            return false;\n        },\n\n        /**\n         * Clear entire cache\n         * */\n        clear() {\n            _cache = Object.create(null);\n\n            // Trigger `clear` event\n            this.emit('clear', {});\n\n            return true;\n        },\n\n        /**\n         * Add cache event listener\n         * Snippet borrowed from @developit/mitt\n         *\n         * @param {String} type  Event to register, Eg: add, remove, expiry\n         * @param {String|Object} listener Function to be called on event\n         * */\n        on(type, listener) {\n            if (typeof listener === 'function') {\n                (_listeners[type] || (_listeners[type] = [])).push(listener);\n            }\n        },\n\n        /**\n         * Remove cache event listener\n         * Snippet borrowed from @developit/mitt\n         *\n         * @param {String} type  Event to un register, Eg: add, remove, expiry\n         * @param {String|Object} listener function to remove\n         * */\n        off(type, listener) {\n            if (_listeners[type]) {\n                _listeners[type].splice(_listeners[type].indexOf(listener) >>> 0, 1);\n            }\n        },\n\n        /**\n         * Emit data to cache event listeners\n         * Snippet borrowed from @developit/mitt\n         *\n         * @param {String} type  Event to be emited\n         * @param {String|Object} data to pass to listener function\n         * */\n        emit(type, data) {\n            (_listeners[type] || []).map((handler) => {\n                handler(data);\n            });\n            (_listeners['*'] || []).map((handler) => {\n                handler(type, data);\n            });\n        }\n    }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/flash-cache.js\n **/","/**\n * Lempel-Ziv-Welch (LZW) Compression/Decompression algorithm for Strings\n * http://rosettacode.org/wiki/LZW_compression#JavaScript\n *\n * let str = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n * Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,\n * when an unknown printer took a galley of type and scrambled it to make a type specimen book.\n * It has survived not only five centuries, but also the leap into electronic typesetting,\n * remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset\n * sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like\n * Aldus PageMaker including versions of Lorem Ipsum.\";\n *\n * console.log(str.length) // 574\n *\n * let compressed = LZW.compress(str) // 358\n *\n * let uncompressed = LZW.decompress(str) // 574\n */\n\nexport default {\n    compress (uncompressed) {\n        \"use strict\";\n        // Build the dictionary.\n        let i,\n            dictionary = {},\n            c,\n            wc,\n            w = \"\",\n            result = [],\n            dictSize = 256;\n        for (i = 0; i < 256; i += 1) {\n            dictionary[String.fromCharCode(i)] = i;\n        }\n\n        for (i = 0; i < uncompressed.length; i += 1) {\n            c = uncompressed.charAt(i);\n            wc = w + c;\n            // Do not use dictionary[wc] because javascript arrays\n            // will return values for array['pop'], array['push'] etc\n            // if (dictionary[wc]) {\n            if (dictionary.hasOwnProperty(wc)) {\n                w = wc;\n            } else {\n                result.push(dictionary[w]);\n                // Add wc to the dictionary.\n                dictionary[wc] = dictSize++;\n                w = String(c);\n            }\n        }\n\n        // Output the code for w.\n        if (w !== \"\") {\n            result.push(dictionary[w]);\n        }\n        return result;\n    },\n\n\n    decompress (compressed) {\n        \"use strict\";\n        // Build the dictionary.\n        let i,\n            dictionary = [],\n            w,\n            result,\n            k,\n            entry = \"\",\n            dictSize = 256;\n        for (i = 0; i < 256; i += 1) {\n            dictionary[i] = String.fromCharCode(i);\n        }\n\n        w = String.fromCharCode(compressed[0]);\n        result = w;\n        for (i = 1; i < compressed.length; i += 1) {\n            k = compressed[i];\n            if (dictionary[k]) {\n                entry = dictionary[k];\n            } else {\n                if (k === dictSize) {\n                    entry = w + w.charAt(0);\n                } else {\n                    return null;\n                }\n            }\n\n            result += entry;\n\n            // Add w+entry[0] to the dictionary.\n            dictionary[dictSize++] = w + entry.charAt(0);\n\n            w = entry;\n        }\n        return result;\n    }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/LZW.js\n **/","/**\n * Created by Ganapati on 5/14/17.\n */\n\n/**\n * Check if variable has some value\n * */\nexport let isExisty = (val) => val !== null && val !== undefined;\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/"],"sourceRoot":""}